<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cryptocurrency Table</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <script src="https://s3.tradingview.com/tv.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <style>
        body{
            background-color: rgba(15,20,25,0.9);
            color: white;
        }
        table {
            width: 100%;
            margin-bottom: 1rem;
            color: white!important;
            border-collapse: collapse;
        }

        table thead,table thead th{
            border-bottom: 0!important;
        }

        .table-bordered {
            border: 1px solid rgba(255,255,255,0.2);
        }

        .table-bordered td,
        .table-bordered th {
            border: 1px solid rgba(255,255,255,0.2);
            padding: .75rem;
        }

        .table-striped tbody tr:nth-of-type(odd) {
            background-color: rgba(0,0,0,.05);
        }

        .table-hover tbody tr:hover {
            background-color: rgba(0,0,0,.075);
        }

        .table-responsive {
            display: block;
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            -ms-overflow-style: -ms-autohiding-scrollbar;
        }

        .dark-mode {
            background-color: #121212;
            color: #fff;
        }

        .dark-mode table {
            border-color: #444;
            color: #fff;
        }

        .dark-mode .table-striped tbody tr:nth-of-type(odd) {
            background-color: rgba(255,255,255,.05);
        }

        .dark-mode .table-hover tbody tr:hover {
            background-color: rgba(255,255,255,.075);
        }

        /* Set the width of the chart container to 100% */
        #chart-container {
            width: 100%;
        }

        table {
            border-collapse: collapse;
            width: 100%;
        }

        table th, table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        table th {
            background-color: rgba(255,255,255,0.2);
            font-weight: bold;
            text-transform: uppercase;
            border-radius: 0px;
        }
        button {
            background-color: rgba(255,255,255,0.2);
            border: none;
            color: #fff;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        h1:not(#settings-container h1) {
            font-size: 36px;
            margin-bottom: 30px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: bold;
            color: white;
        }
        

        #settings-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            background-color: transparent;
            padding: 20px;
            border-radius: 5px;
            width: 50vw;
        }

        #settings-panel {
            position: fixed;
            left: 50%;
            top: 50%;
            z-index: 9990;
            background: rgba(15,20,25,0.9);
            height: 50vh;
            aspect-ratio: 2/1;
            padding: 1px;
            box-shadow: -2px 0 15px 0 rgba(0,0,0,0.7);
            border-radius: 5px;
            transition: 0.6s;
            transform: translate(-50%,-50%);
        }

        #settingsIcon{
            background-color: rgba(15,20,25,0.9);
            border-radius: 50%;
            padding: 8px;
            position: absolute;
            left:10px;
            top:200px;
            transition: 0.6s;
            cursor: pointer;
        }

            @media (min-width: 500px) {
            #settings-panel {
                padding: 2px;
                width: 450px;
            }
            }
            #close-settings {
                position: absolute;
                z-index: 9999;
                top: 10px;
                right: 10px;
                width: 44px;
                height: 44px;
                padding: 10px;
                cursor: pointer;
                background-size: 24px 24px;
                background-repeat: no-repeat;
                background-position: center;
            }
            #settings-tabs {
                width: 40px;
                height: 100%;
            }
            #settings-tabs ul {
                margin: 0;
                padding: 0;
                height: 100%;
                list-style: none;
                display: flex;
                flex-direction: column;
            }
            #settings-tabs ul li {
                display: block;
                margin: 1px;
                padding: 5px;
                flex-grow: 1;
                text-align: center;
                background: rgba(255,255,255,0.1);
                border-radius: 2px;
                display: flex;
                align-items: center;
                transition: background 0.2s;
            }
            #settings-tabs ul li:hover,
            #settings-tabs ul li:active {
            background: rgba(255,255,255,0.2);
            cursor: pointer;
            }
            #settings-tabs ul li.active {
            background: rgba(255,255,255,0.4);
            cursor: default;
            }
            @media (min-width: 500px) {
            #settings-tabs {
                width: 60px;
            }
            #settings-tabs ul li {
                margin: 2px;
                padding: 10px;
            }
            }
            .settings-content {
                display: none;
                position: absolute;
                top: 0;
                right: 0;
                left: 41px;
                bottom: 0;
                padding: 10px;
                overflow-x: auto;
                border-radius: 3px;
                color: #eeeeee;
                overflow-x: hidden;
            }
            .settings-content.active {
                display: block;
            }
            .settings-content small {
                vertical-align: mmiddle;
                display: inline-block;
                font-size: 0.8rem;
            }
            .settings-content .setting {
                display: block;
                margin: 0 0 5px 0;
                border-bottom: 1px dotted rgba(255,255,255,0.2);
                border-radius: 3px;
                padding: 10px 0;
            }
            .settings-content .setting:first-of-type {
            border-top: 1px dotted rgba(255,255,255,0.2);
            }
            .settings-content h1 {
            font-size: 1.6rem;
            line-height: 2rem;
            margin: 0 40px 1.5rem 0;
            }
            .settings-content h2 {
            font-size: 1.2rem;
            line-height: 1.8rem;
            margin: 0;
            }
            .settings-content h3 {
            font-size: 1.2rem;
            line-height: 1.8rem;
            font-weight: 100;
            margin: 0 0 1rem 0;
            }
            .settings-content h3 + small {
            display: block;
            color: rgba(255,255,255,0.5);
            margin: -1rem 0 1rem 0;
            }
            .settings-content p small {
            color: rgba(255,255,255,0.5);
            }
            @media (min-width: 500px) {
            .settings-content {
                left: 62px;
                padding: 20px;
            }
            .settings-content h1 {
                line-height: 3rem;
            }
            .settings-content h2 {
                font-size: 1.4rem;
                line-height: 2rem;
                font-weight: 100;
            }
            .settings-content h3 {
                font-size: 1.4rem;
                line-height: 2rem;
                font-weight: 100;
                margin: 0 0 1rem 0;
            }
            }
            .timezone-settings input,
            .timezone-settings select {
            background-color: #1C1F27;
            border: 1px solid rgba(255,255,255,0.2);
            padding: 2px 2px;
            height: auto;
            font-size: 14px;
            vertical-align: middle;
            color: #eee;
            font-weight: 300;
            display: block;
            width: 100%;
            margin: 0 0 10px;
            border-radius: 4px;
            }
            .timezone-settings input:focus,
            .timezone-settings select:focus {
            outline: none;
            background-color: #3C3F47;
            }
            .timezone-settings input {
            padding: 3px 6px;
            }
            .timezone-settings label {
            display: block;
            font-size: 1rem;
            font-weight: 300;
            line-height: 1;
            margin: 10px 0 5px 0;
            color: rgba(255,255,255,0.5);
            }
            .checkbox-switch {
            position: relative;
            margin: 0;
            }
            .checkbox-label {
            width: 70%;
            width: calc(100% - 36px);
            display: inline-block;
            font-size: 18px;
            line-height: 30px;
            vertical-align: top;
            font-weight: 300;
            letter-spacing: 1px;
            opacity: 0.5;
            transition: opacity 0.25s;
            -webkit-user-select: none;
            user-select: none;
            }
            .checkbox {
            position: absolute;
            margin-left: -9999px;
            visibility: hidden;
            -webkit-user-select: none;
            user-select: none;
            }
            input.checkbox + label {
            display: inline-block;
            position: relative;
            cursor: pointer;
            outline: none;
            user-select: none;
            padding: 2px;
            width: 22px;
            height: 22px;
            background-color: #ccc;
            border-radius: 3px;
            transition: background 0.25s;
            -webkit-user-select: none;
            margin: 3px 10px 3px 0;
            }
            input.checkbox + label>.before,
            input.checkbox + label>.after {
            display: block;
            position: absolute;
            content: "";
            }
            input.checkbox + label>.before {
            top: 2px;
            left: 2px;
            bottom: 2px;
            right: 2px;
            background-color: #1C1F27;
            border-radius: 2px;
            transition: background 0.25s;
            }
            input.checkbox + label>.after {
            top: 6px;
            left: 6px;
            bottom: 4px;
            width: 10px;
            height: 10px;
            background-color: #1C1F27;
            border-radius: 2px;
            transition: margin 0.25s, background 0.25s;
            }
            input.checkbox:checked + label {
            background-color: #8ce196;
            }
            input.checkbox:checked + label>.after {
            background-color: #8ce196;
            }
            input.checkbox:checked ~ .checkbox-label {
            opacity: 0.9;
            }
            .radio-switch {
            display: block;
            width: 100%;
            position: relative;
            margin: 0;
            display: flex;
            }
            .radio-label {
            width: 70%;
            width: calc(100% - 36px);
            display: inline-block;
            font-size: 18px;
            line-height: 28px;
            vertical-align: top;
            font-weight: 300;
            letter-spacing: 1px;
            opacity: 0.5;
            transition: opacity 0.25s;
            -webkit-user-select: none;
            user-select: none;
            }
            .radio {
            position: absolute;
            margin-left: -9999px;
            visibility: hidden;
            -webkit-user-select: none;
            user-select: none;
            }
            input.radio + label {
            display: inline-block;
            position: relative;
            cursor: pointer;
            outline: none;
            user-select: none;
            padding: 2px;
            width: 22px;
            height: 22px;
            background-color: #ccc;
            border-radius: 18px;
            transition: background 0.25s;
            -webkit-user-select: none;
            margin: 3px 10px 3px 0;
            }
            input.radio + label>.before,
            input.radio + label>.after {
            display: block;
            position: absolute;
            content: "";
            }
            input.radio + label>.before {
            top: 2px;
            left: 2px;
            bottom: 2px;
            right: 2px;
            background-color: #1C1F27;
            border-radius: 60px;
            transition: background 0.25s;
            }
            input.radio + label>.after {
            top: 4px;
            left: 4px;
            bottom: 4px;
            width: 14px;
            background-color: #1C1F27;
            border-radius: 50%;
            transition: margin 0.25s, background 0.25s;
            }
            input.radio:checked + label {
            background-color: #8ce196;
            cursor: default;
            }
            input.radio:checked + label>.after {
            background-color: #8ce196;
            }
            input.radio:checked ~ .radio-label {
            opacity: 0.9;
            }
            .toggle-switch {
            position: relative;
            margin: 0;
            }
            .toggle-off,
            .toggle-on {
            position: absolute;
            left: 60px;
            top: 0;
            font-size: 18px;
            line-height: 28px;
            vertical-align: top;
            font-weight: 300;
            letter-spacing: 1px;
            opacity: 0.5;
            transition: opacity 0.25s;
            -webkit-user-select: none;
            user-select: none;
            }
            .toggle-on {
            opacity: 0.9;
            }
            .switch {
            position: absolute;
            margin-left: -9999px;
            visibility: hidden;
            -webkit-user-select: none;
            user-select: none;
            }
            input.switch + label {
            display: inline-block;
            position: relative;
            cursor: pointer;
            outline: none;
            user-select: none;
            padding: 2px;
            width: 50px;
            height: 22px;
            background-color: #ccc;
            border-radius: 18px;
            transition: background 0.25s;
            -webkit-user-select: none;
            margin: 3px 0 3px 0;
            }
            input.switch + label>.before,
            input.switch + label>.after {
            display: block;
            position: absolute;
            content: "";
            }
            input.switch + label>.before {
            top: 2px;
            left: 2px;
            bottom: 2px;
            right: 2px;
            background-color: #1C1F27;
            border-radius: 60px;
            transition: background 0.25s;
            }
            input.switch + label >.after {
            top: 4px;
            left: 4px;
            bottom: 4px;
            width: 22px;
            background-color: #ccc;
            border-radius: 22px;
            transition: margin 0.25s, background 0.25s;
            }
            input.switch:checked + label {
            background-color: #8ce196;
            }
            input.switch:checked + label>.after {
            margin-left: 20px;
            background-color: #8ce196;
            }
            input.switch:checked ~ .toggle-off,
            input.switch:not(:checked) ~ .toggle-on {
            opacity: 0;
            }
            input.switch:checked ~ .toggle-on,
            input.switch:not(:checked) ~ .toggle-off {
            opacity: 0.5;
            }
            input.switch:checked ~ .toggle-on {
            opacity: 0.9;
            }
            [class*="icon-"] {
            display: block;
            width: 16px;
            height: 16px;
            background-size: 100% 100%;
            margin: 0 auto;
            }
            @media (min-width: 500px) {
            [class*="icon-"] {
                width: 24px;
                height: 24px;
            }
            }
            .icon-time {
            max-width: 256px;
            max-height: 256px;
            background-image: url('./images/speedometer.png');
            }
            .icon-info {
            max-width: 256px;
            max-height: 256px;
            background-image: url('./images/dashboard.png');
            }
            .icon-color {
            max-width: 256px;
            max-height: 256px;
            background-image: url('./images/wide.png');
            }
            .icon-style {
            max-width: 256px;
            max-height: 256px;
            background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDk1Ljc0OSA5NS43NDkiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDk1Ljc0OSA5NS43NDk7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNMTcuNDM4LDI3Ljk1MmgxNS43NWMwLjgyOSwwLDEuNS0wLjY3MSwxLjUtMS41di01LjY0NGMwLTAuODI5LTAuNjcxLTEuNS0xLjUtMS41aC0xNS43NWMtMC44MjksMC0xLjUsMC42NzEtMS41LDEuNSAgICB2NS42NDRDMTUuOTM4LDI3LjI4MSwxNi42MDksMjcuOTUyLDE3LjQzOCwyNy45NTJ6IiBmaWxsPSIjRkZGRkZGIi8+CgkJPHBhdGggZD0iTTQzLjU2MywyNy45NTJoMzQuNzVjMC44MywwLDEuNS0wLjY3MSwxLjUtMS41di01LjY0NGMwLTAuODI5LTAuNjctMS41LTEuNS0xLjVoLTM0Ljc1Yy0wLjgyOSwwLTEuNSwwLjY3MS0xLjUsMS41djUuNjQ0ICAgIEM0Mi4wNjMsMjcuMjgxLDQyLjczNCwyNy45NTIsNDMuNTYzLDI3Ljk1MnoiIGZpbGw9IiNGRkZGRkYiLz4KCQk8cGF0aCBkPSJNOTMuMjA0LDBIMi41NDZDMS4xNCwwLDAsMS4xNCwwLDIuNTQ2djkwLjY1N2MwLDEuNDA2LDEuMTQsMi41NDYsMi41NDYsMi41NDZoOTAuNjU3YzEuNDA2LDAsMi41NDYtMS4xNCwyLjU0Ni0yLjU0NiAgICBWMi41NDZDOTUuNzUsMS4xNCw5NC42MDksMCw5My4yMDQsMHogTTkuNTIzLDEyLjI3OGMwLTEuMjI4LDAuOTk2LTIuMjIzLDIuMjI0LTIuMjIzaDcyLjI1NmMxLjIyOCwwLDIuMjI0LDAuOTk1LDIuMjI0LDIuMjIzICAgIHYyMi43NTFjMCwxLjIyOC0wLjk5NiwyLjIyMy0yLjIyNCwyLjIyM0gxMS43NDdjLTEuMjI4LDAtMi4yMjQtMC45OTUtMi4yMjQtMi4yMjNWMTIuMjc4eiBNMjEuMDYzLDc3LjM3NSAgICBjMCwwLjgyOS0wLjY3MSwxLjUtMS41LDEuNWgtOC43NWMtMC44MjksMC0xLjUtMC42NzEtMS41LTEuNVY3MS43M2MwLTAuODI4LDAuNjcxLTEuNSwxLjUtMS41aDguNzVjMC44MjksMCwxLjUsMC42NzIsMS41LDEuNSAgICBWNzcuMzc1eiBNMjEuMDYzLDU3LjM3NWMwLDAuODI5LTAuNjcxLDEuNS0xLjUsMS41aC04Ljc1Yy0wLjgyOSwwLTEuNS0wLjY3MS0xLjUtMS41VjUxLjczYzAtMC44MjgsMC42NzEtMS41LDEuNS0xLjVoOC43NSAgICBjMC44MjksMCwxLjUsMC42NzIsMS41LDEuNVY1Ny4zNzV6IE01NS4xODgsNzcuMzc1YzAsMC44MjktMC42NywxLjUtMS41LDEuNWgtMjMuNzVjLTAuODI5LDAtMS41LTAuNjcxLTEuNS0xLjVWNzEuNzMgICAgYzAtMC44MjgsMC42NzEtMS41LDEuNS0xLjVoMjMuNzVjMC44MywwLDEuNSwwLjY3MiwxLjUsMS41Vjc3LjM3NXogTTU1LjE4OCw1Ny4zNzVjMCwwLjgyOS0wLjY3LDEuNS0xLjUsMS41aC0yMy43NSAgICBjLTAuODI5LDAtMS41LTAuNjcxLTEuNS0xLjVWNTEuNzNjMC0wLjgyOCwwLjY3MS0xLjUsMS41LTEuNWgyMy43NWMwLjgzLDAsMS41LDAuNjcyLDEuNSwxLjVWNTcuMzc1eiBNODYuNDM4LDc3LjM3NSAgICBjMCwwLjgyOS0wLjY3LDEuNS0xLjUsMS41aC0yMC43NWMtMC44MjgsMC0xLjUtMC42NzEtMS41LTEuNVY1MS43M2MwLTAuODI4LDAuNjcyLTEuNSwxLjUtMS41aDIwLjc1YzAuODMsMCwxLjUsMC42NzIsMS41LDEuNSAgICBWNzcuMzc1eiIgZmlsbD0iI0ZGRkZGRiIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=);
            }
            .icon-extra {
            max-width: 256px;
            max-height: 256px;
            background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4Ij4KICA8Zz4KICAgIDxnPgogICAgICA8cGF0aCBkPSJNNDgwLjYsMTFIMzEuNEMyMC4xLDExLDExLDIwLjEsMTEsMzEuNHY0NDkuMmMwLDExLjMsOS4xLDIwLjQsMjAuNCwyMC40aDQ0OS4yYzExLjMsMCwyMC40LTkuMSwyMC40LTIwLjRWMzEuNCAgICBDNTAxLDIwLjEsNDkxLjksMTEsNDgwLjYsMTF6IE00NjAuMiw0NjAuMkg1MS44VjUxLjhoNDA4LjNWNDYwLjJ6IiBmaWxsPSIjRkZGRkZGIi8+CiAgICAgIDxwYXRoIGQ9Im0xMTkuMSwzNTkuMmg5LjF2MzcuOGMwLDExLjMgOS4xLDIwLjQgMjAuNCwyMC40IDExLjMsMCAyMC40LTkuMSAyMC40LTIwLjR2LTM3LjhoOS4xYzExLjMsMCAyMC40LTkuMSAyMC40LTIwLjQgMC0xMS4zLTkuMS0yMC40LTIwLjQtMjAuNGgtOS4xdi0yMDMuNGMwLTExLjMtOS4xLTIwLjQtMjAuNC0yMC40LTExLjMsMC0yMC40LDkuMS0yMC40LDIwLjR2MjAzLjRoLTkuMWMtMTEuMywwLTIwLjQsOS4xLTIwLjQsMjAuNC0wLjEsMTEuMyA5LjEsMjAuNCAyMC40LDIwLjR6IiBmaWxsPSIjRkZGRkZGIi8+CiAgICAgIDxwYXRoIGQ9Im0yMjYuNSwyMDcuOWg5LjF2MTg5LjFjMCwxMS4zIDkuMSwyMC40IDIwLjQsMjAuNCAxMS4zLDAgMjAuNC05LjEgMjAuNC0yMC40di0xODkuMWg5LjFjMTEuMywwIDIwLjQtOS4xIDIwLjQtMjAuNHMtOS4xLTIwLjQtMjAuNC0yMC40aC05LjF2LTUyLjFjMC0xMS4zLTkuMS0yMC40LTIwLjQtMjAuNC0xMS4zLDAtMjAuNCw5LjEtMjAuNCwyMC40djUyLjFoLTkuMWMtMTEuMywwLTIwLjQsOS4xLTIwLjQsMjAuNHM5LjEsMjAuNCAyMC40LDIwLjR6IiBmaWxsPSIjRkZGRkZGIi8+CiAgICAgIDxwYXRoIGQ9Im0zMzMuOSwyOTAuNGg5LjF2MTA2LjZjMCwxMS4zIDkuMSwyMC40IDIwLjQsMjAuNCAxMS4zLDAgMjAuNC05LjEgMjAuNC0yMC40di0xMDYuNmg5LjFjMTEuMywwIDIwLjQtOS4xIDIwLjQtMjAuNCAwLTExLjMtOS4xLTIwLjQtMjAuNC0yMC40aC05LjF2LTEzNC42YzAtMTEuMy05LjEtMjAuNC0yMC40LTIwLjQtMTEuMywwLTIwLjQsOS4xLTIwLjQsMjAuNHYxMzQuNmgtOS4xYy0xMS4zLDAtMjAuNCw5LjEtMjAuNCwyMC40IDAsMTEuMiA5LjEsMjAuNCAyMC40LDIwLjR6IiBmaWxsPSIjRkZGRkZGIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K);
            }
            .icon-about {
            max-width: 256px;
            max-height: 256px;
            background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMS4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3NSA0NzUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ3NSA0NzU7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4Ij4KPGc+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZD0iTTIzOCwwQzEwNywwLDAsMTA3LDAsMjM4czEwNywyMzcsMjM4LDIzN3MyMzctMTA2LDIzNy0yMzdTMzY5LDAsMjM4LDB6IE0yMzgsNDMyICAgICBjLTEwNywwLTE5NC04Ny0xOTQtMTk0UzEzMSw0NCwyMzgsNDRzMTk0LDg3LDE5NCwxOTRTMzQ1LDQzMiwyMzgsNDMyeiIgZmlsbD0iI0ZGRkZGRiIvPgoJCQk8cGF0aCBkPSJNMjcwLDMyM2wtMjAsOWwyNi0xMzNjMy0xNC0xMi0yOS0yOC0yMGwtNDksMjdjLTksNS0xMiwxNy03LDI2czE3LDEyLDI2LDdsMTItNmwtMjUsMTI3ICAgICBjLTIsMTEsNywyMywxOSwyM2MzLDAsNi0xLDgtMmw1My0yM2MxMC00LDE0LTE1LDEwLTI1UzI4MCwzMTksMjcwLDMyM3oiIGZpbGw9IiNGRkZGRkYiLz4KCQkJPHBhdGggZD0iTTI1NywxNDNjMTUsMCwyNy0xMiwyNy0yN3MtMTItMjctMjctMjdzLTI3LDEyLTI3LDI3UzI0MiwxNDMsMjU3LDE0M3oiIGZpbGw9IiNGRkZGRkYiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==);
            }
            .icon-close-red {
            max-width: 256px;
            max-height: 256px;
            background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ0IDQ0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0NCA0NCIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCI+CiAgPHBhdGggZD0ibTIyLDBjLTEyLjIsMC0yMiw5LjgtMjIsMjJzOS44LDIyIDIyLDIyIDIyLTkuOCAyMi0yMi05LjgtMjItMjItMjJ6bTMuMiwyMi40bDcuNSw3LjVjMC4yLDAuMiAwLjMsMC41IDAuMywwLjdzLTAuMSwwLjUtMC4zLDAuN2wtMS40LDEuNGMtMC4yLDAuMi0wLjUsMC4zLTAuNywwLjMtMC4zLDAtMC41LTAuMS0wLjctMC4zbC03LjUtNy41Yy0wLjItMC4yLTAuNS0wLjItMC43LDBsLTcuNSw3LjVjLTAuMiwwLjItMC41LDAuMy0wLjcsMC4zLTAuMywwLTAuNS0wLjEtMC43LTAuM2wtMS40LTEuNGMtMC4yLTAuMi0wLjMtMC41LTAuMy0wLjdzMC4xLTAuNSAwLjMtMC43bDcuNS03LjVjMC4yLTAuMiAwLjItMC41IDAtMC43bC03LjUtNy41Yy0wLjItMC4yLTAuMy0wLjUtMC4zLTAuN3MwLjEtMC41IDAuMy0wLjdsMS40LTEuNGMwLjItMC4yIDAuNS0wLjMgMC43LTAuM3MwLjUsMC4xIDAuNywwLjNsNy41LDcuNWMwLjIsMC4yIDAuNSwwLjIgMC43LDBsNy41LTcuNWMwLjItMC4yIDAuNS0wLjMgMC43LTAuMyAwLjMsMCAwLjUsMC4xIDAuNywwLjNsMS40LDEuNGMwLjIsMC4yIDAuMywwLjUgMC4zLDAuN3MtMC4xLDAuNS0wLjMsMC43bC03LjUsNy41Yy0wLjIsMC4xLTAuMiwwLjUgMy41NTI3MWUtMTUsMC43eiIgZmlsbD0iI0Q4MDAyNyIvPgo8L3N2Zz4K);
            }
            .icon-close {
            max-width: 256px;
            max-height: 256px;
            background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDQ0IDQ0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0NCA0NCIgd2lkdGg9IjI0cHgiIGhlaWdodD0iMjRweCI+CiAgPHBhdGggZD0ibTIyLDBjLTEyLjIsMC0yMiw5LjgtMjIsMjJzOS44LDIyIDIyLDIyIDIyLTkuOCAyMi0yMi05LjgtMjItMjItMjJ6bTMuMiwyMi40bDcuNSw3LjVjMC4yLDAuMiAwLjMsMC41IDAuMywwLjdzLTAuMSwwLjUtMC4zLDAuN2wtMS40LDEuNGMtMC4yLDAuMi0wLjUsMC4zLTAuNywwLjMtMC4zLDAtMC41LTAuMS0wLjctMC4zbC03LjUtNy41Yy0wLjItMC4yLTAuNS0wLjItMC43LDBsLTcuNSw3LjVjLTAuMiwwLjItMC41LDAuMy0wLjcsMC4zLTAuMywwLTAuNS0wLjEtMC43LTAuM2wtMS40LTEuNGMtMC4yLTAuMi0wLjMtMC41LTAuMy0wLjdzMC4xLTAuNSAwLjMtMC43bDcuNS03LjVjMC4yLTAuMiAwLjItMC41IDAtMC43bC03LjUtNy41Yy0wLjItMC4yLTAuMy0wLjUtMC4zLTAuN3MwLjEtMC41IDAuMy0wLjdsMS40LTEuNGMwLjItMC4yIDAuNS0wLjMgMC43LTAuM3MwLjUsMC4xIDAuNywwLjNsNy41LDcuNWMwLjIsMC4yIDAuNSwwLjIgMC43LDBsNy41LTcuNWMwLjItMC4yIDAuNS0wLjMgMC43LTAuMyAwLjMsMCAwLjUsMC4xIDAuNywwLjNsMS40LDEuNGMwLjIsMC4yIDAuMywwLjUgMC4zLDAuN3MtMC4xLDAuNS0wLjMsMC43bC03LjUsNy41Yy0wLjIsMC4xLTAuMiwwLjUgMy41NTI3MWUtMTUsMC43eiIgZmlsbD0iI0ZGRkZGRiIvPgo8L3N2Zz4K);
            }

            /******************************************/


            input[type="color"], textarea {
                background-color : #cccccc; 
            }

            .colors{
                display: flex;
                flex-wrap: wrap;
                gap:10px;
            }

            .colors > div{
                display: flex;
                flex-direction: column;
                flex-basis: calc(33% - 10px);
            }

            .colors input{
                width:100%;
            }

            .colors label{
                white-space: nowrap;
            }

            /*******************************/

            #settings-info> div{
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-right: 40px;
            }

            #settings-info h3{
            margin-bottom:0;
            }

            /***********************/
            ::-webkit-scrollbar {
                width: 5px;
                height: 14px;
            }
            ::-webkit-scrollbar-track {
                background: rgba(15,20,25,0.4);
                border-left: 0;
            }
            ::-webkit-scrollbar-thumb {
                background: rgba(255,255,255,0.2);
                border-left: 0;
            }

            .setting fieldset input,.cusInput{
                background: rgba(255,255,255,0.5);
                border-radius: 6px;
                padding: 5px;
                color: white;
                border: 0;
            }

            .intervals{
                display: flex;
                gap: 5px;
                width: fit-content;
                justify-content: flex-start;
            }

            .interval{
                padding: 8px;
                background-color: rgba(255,255,255,0.2);
                border-radius: 4px;
                color:white;
                cursor: pointer;
            }

            .interval.active{
                background-color: rgba(255,255,255,0.4);
            }
    </style>
</head>
<body>
    <div class="table-container" style="margin:100px">
        <h1 class="mb-3">Cryptocurrency Table</h1>
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Rank</th>
                        <th>Price</th>
                        <th>Volume (24h)</th>
                        <th>Dominance</th>
                        <th>Price Change (24h)</th>
                        <th>MarketCap</th>
                        <th>circulating Supply</th>
                        <th>Indicators</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                </tbody>
            </table>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script>
        let darkModeEnabled = false;
        let priceChart, rsiChart;

        function toggleDarkMode() {
            darkModeEnabled = !darkModeEnabled;
            document.body.classList.toggle('dark-mode', darkModeEnabled);
            if(darkModeEnabled){
                tradingViewWidget.options.theme = 'dark';
            }
            else{
                tradingViewWidget.options.theme = 'light';
            }
        }
        let allSymbols = [];

fetch(`/getData/?exchange=${new URLSearchParams(window.location.search).get('exchange')}`)
  .then(res => res.json())
  .then(res => {
    allSymbols = res;
    setInterval(getPrice, 3000);
  })
  .catch(error => {
    // Handle error
    console.error("Error during fetch:", error);
    // Display an error message to the user, or retry the fetch
  });

async function getPrice() {
  if (allSymbols.length > 0) {
    for (const e of allSymbols) {
      try {
        const res = await fetch(`/getPrice/?symbol=${e.symbol}&exchange=${e.exchange}&interval=${localStorage.getItem('interval') || "15m"}`);
        const data = await res.json();
        if (data.price) {
          let existingRow = document.querySelector(`tr[data-symbol="${data.symbol}"]`);
          const market_cap = calcMarketCap_dominance(data.circulating_supply, data.price, data.full_market_cap)[0];
          const dominance = (calcMarketCap_dominance(data.circulating_supply, data.price, data.full_market_cap)[1] * 1000000).toFixed(2);
          if (existingRow) {
            existingRow.cells[1].textContent = data.cmc_rank;
            existingRow.cells[2].textContent = data.price;
            existingRow.cells[3].textContent = parseFloat(data.volume).toFixed(2);
            existingRow.cells[4].textContent = dominance + "%";
            existingRow.cells[5].textContent = data.price_change;
            existingRow.cells[6].textContent = parseFloat(market_cap).toFixed(2);
            existingRow.cells[7].textContent = data.circulating_supply;
            existingRow.cells[8].querySelector("button").setAttribute("ma", data.ma);
            existingRow.cells[8].querySelector("button").setAttribute("rsi", data.rsi);
            existingRow.cells[8].querySelector("button").setAttribute("stoch", data.stoch);
            existingRow.cells[8].querySelector("button").setAttribute("macd", data.macd);
            existingRow.cells[8].querySelector("button").setAttribute("bb_upper", data.bb_upper);
            existingRow.cells[8].querySelector("button").setAttribute("bb_middle", data.bb_middle);
            existingRow.cells[8].querySelector("button").setAttribute("bb_lower", data.bb_lower);
          } else {
            document.querySelector("tbody").insertAdjacentHTML("beforeend", `
              <tr data-symbol="${data.symbol}">
                <td>${data.symbol}</td>
                <td>${data.rank}</td>
                <td>${data.price}</td>
                <td>${parseFloat(data.volume).toFixed(2)}</td>
                <td>${dominance}%</td>
                <td>${data.price_change}</td>
                <td>${market_cap}</td>
                <td>${data.circulating_supply}</td>
                <td><a target="_blank" href="/symbol/?symbol=${data.symbol.replace("OKX:", "")}">Settings</a></td>
              </tr>
            `);
          }
        }
      } catch (error) {
        // Handle error
        console.error("Error during fetch:", error);
        // Display an error message to the user, or retry the fetch
      }
    }
  }
}
            
            /*allSymbols.forEach(async e=>{
                await fetch(`/getPrice/?symbol=${e.symbol}&exchange=${e.exchange}`)
                .then(res=>res.json())
                .then(res=>{

                    if(res.price) {
                        let existingRow = document.querySelector(`tr[data-symbol="${res.symbol}"]`);
                        market_cap = calcMarketCap_dominance(res.circulating_supply, res.price, res.full_market_cap)[0];
                        dominance = (calcMarketCap_dominance(res.circulating_supply, res.price, res.full_market_cap)[1]*1000000).toFixed(2);
                        if (existingRow) { // If the row for this symbol already exists, update the price and RSI values
                            existingRow.cells[1].textContent = res.cmc_rank;
                            existingRow.cells[2].textContent = res.price;
                            existingRow.cells[3].textContent = parseFloat(res.volume).toFixed(2);
                            existingRow.cells[4].textContent = dominance + "%";
                            existingRow.cells[5].textContent = parseFloat(res.price_change).toFixed(2);
                            existingRow.cells[6].textContent = parseFloat(market_cap).toFixed(2);
                            existingRow.cells[7].textContent = res.circulating_supply;
                            existingRow.cells[8].textContent = res.rsi;
                            existingRow.cells[8].style.background = parseFloat(res.rsi) < 30 ? 'rgba(255,0,0,0.2)' : parseFloat(res.rsi) > 70 ? 'rgba(0,255,0,0.2)' : '';
                            existingRow.cells[9].textContent = res.macd;
                            existingRow.cells[10].textContent = res.trix;              
                            existingRow.cells[11].textContent = res.obv + "K";           
                            existingRow.cells[12].textContent = res.bb_lower;    
                            existingRow.cells[13].textContent = res.bb_middle;  
                            existingRow.cells[14].textContent = res.bb_upper;      
                            existingRow.cells[15].textContent = res.stoch;
                        } else { // Otherwise, insert a new row for this symbol
                            document.querySelector("tbody").insertAdjacentHTML("beforeend",`
                                <tr data-symbol="${res.symbol}">
                                    <td>${res.symbol}</td>
                                    <td>${res.rank}</td>
                                    <td>${res.price}</td>
                                    <td>${parseFloat(res.volume).toFixed(2)}</td>
                                    <td>${res.dominance}%</td>
                                    <td>${parseFloat(res.price_change).toFixed(2)}</td>
                                    <td>${market_cap}</td>
                                    <td>${res.circulating_supply} M</td>
                                    <td style="${parseFloat(res.rsi)<30?"background:rgba(255,0,0,0.2);":(parseFloat(res.rsi)>70?"background:rgba(0,255,0,0.2);":"")}">${res.rsi}</td>
                                    <td>${res.macd}</td>
                                    <td>${res.trix}</td>
                                    <td>${res.obv + "K"}</td>
                                    <td>${res.bb_lower}</td>
                                    <td>${res.bb_middle}</td>
                                    <td>${res.bb_upper}</td>
                                    <td>${res.stoch}</td>
                                </tr>
                            `);
                        }
                    }
                })
            })*/
            
            let table = document.querySelector("table");
            let rows = Array.from(table.rows).slice(1);  // Exclude the header row
            rows.sort(function(a, b) {
                let aText = parseInt(a.cells[1].textContent);
                let bText = parseInt(b.cells[1].textContent);
                if (aText < bText) {
                    return -1;
                } else if (aText > bText) {
                    return 1;
                } else {
                    return 0;
                }
            });
            rows.forEach(function(row) {
                table.appendChild(row);
            });
        
        /*
        $(document).ready(() => {
            $('#toggle-dark-mode').click(toggleDarkMode);
        });*/

        
        function calcMarketCap_dominance(circulating_supply, price,full_market_cap){
            let market_cap = parseFloat(circulating_supply) * parseFloat(price)
            let dominance = (parseFloat(market_cap) / parseFloat(full_market_cap)) * 100
            return [market_cap, dominance]
        }

        
        /*function openSettings(button) {
            localStorage.setItem("indicator", button.parentNode.parentNode.getAttribute("data-symbol"));
            if(!document.querySelector("#settings-container")){
                var settingsContainer = document.createElement("div");
            settingsContainer.id = "settings-container";
            settingsContainer.innerHTML = `<section id="settings-panel">
        <div id="close-settings" class="icon-close"></div>
        <aside id="settings-tabs">
          <ul>
            <li id="settings-tab-gauges" data-tab="settings-gauges" title="gauges Settings" class="active"><span class="icon-time"></span></li>
            <li id="settings-tab-info" data-tab="settings-info" title="Date Settings"><span class="icon-info"></span></li>
            <li id="settings-tab-color" data-tab="settings-extra" title="Color Settings"><span class="icon-color"></span></li>
            <li style="background: #8ce196;" id="apply" data-tab="settings-apply" title="apply Settings"><span class="icon-apply" style="margin:0;color:black"></span></li>
          </ul>
        </aside>
        <article id="settings-gauges" class="settings-content active">
          <h1>Indicators</h1>
          <div class="setting">
            <h3>Price</h3>
            <div id="price_val"></div>
          </div>
          <div class="setting">
            <h3>RSI</h3>
            <small>The main goal of the RSI is to determine whether an asset is overbought or oversold.</small>
            <div id="rsi_val"></div>
          </div>
          <div class="setting">
            <h3>MACD</h3>
            <small>It is a trend-following indicator that measures whether the direction of the short and long-term momentum is the same or not.</small>
            <div id="macd_val"></div>
            <div></div>
            <div></div>
          </div>
          <div class="setting">
            <h3>Stochastic Oscillator</h3>
            <small>The Stochastic Oscillator is designed to measure momentum</small>
            <div id="stoch_val"></div>
          </div>
          <div class="setting">
            <h3>Bollinger Bands</h3>
            <small>The Bollinger Bands indicator determines whether a market is within a specific band of normalcy.</small>
            <div id="bb_val"></div>
          </div>
          <div class="setting">
            <h3>Moving Averages (MA)</h3>
            <small>The idea behind Moving Averages is that it shows the overall trend, and it can be used for dynamic support and resistance.</small>
            <div id="ma_val"></div>
          </div>
        </article>

        <article id="settings-info" class="settings-content">
          <h1>Conditions</h1>
          <div class="intervals">
            <div class="interval" data-interval="5m">5m</div>
            <div class="interval" data-interval="15m">15m</div>
            <div class="interval" data-interval="30m">30m</div>
            <div class="interval" data-interval="1h">1h</div>
            <div class="interval" data-interval="1d">1d</div>
          </div>
          <div class="setting" style="flex-direction:column;display:flex;">
            <div style="display:flex;justify-content:space-between;width:100%;">
                <h3>RSI</h3>
                <div class="toggle-switch">
                <input id="job-switch" class="switch" type="checkbox" checked="checked">
                <label for="job-switch" id="jobLabel">
                    <div class="before"></div>
                    <div class="after"></div>
                </label>
                <div class="toggle-off">OFF</div>
                <div class="toggle-on">ON</div>
                </div>
            </div>
            <div style="width:100%;">
                <fieldset>
                    <legend>Open</legend>
                    from above <input type="number" value="70"/>
                </fieldset>
                <fieldset>
                    <legend>Close</legend>
                    from below <input type="number" value="30"/>
                </fieldset>
            </div>
          </div>
          <div class="setting" style="flex-direction:column;display:flex;">
            <div style="display:flex;justify-content:space-between;width:100%;">
                <h3>MACD</h3>
                <div class="toggle-switch">
                <input id="job-switch" class="switch" type="checkbox" checked="checked">
                <label for="job-switch" id="jobLabel">
                    <div class="before"></div>
                    <div class="after"></div>
                </label>
                <div class="toggle-off">OFF</div>
                <div class="toggle-on">ON</div>
                </div>
            </div>
            <div style="width:100%;">
                <small> When the histogram is positive, it indicates that the MACD line is above the signal line, which is a bullish signal. Conversely, when the histogram is negative, it indicates that the MACD line is below the signal line, which is a bearish signal.</small>
            </div>
          </div>
          <div class="setting" style="flex-direction:column;display:flex;">
            <div style="display:flex;justify-content:space-between;width:100%;">
                <h3>Stochastic Oscillator</h3>
                <div class="toggle-switch">
                <input id="job-switch" class="switch" type="checkbox" checked="checked">
                <label for="job-switch" id="jobLabel">
                    <div class="before"></div>
                    <div class="after"></div>
                </label>
                <div class="toggle-off">OFF</div>
                <div class="toggle-on">ON</div>
                </div>
            </div>
            <div style="width:100%;">
                %K line <select class="cusInput" style="margin: 9px;"><option>Above</option><option>Below</option></select> the %D line from <select class="cusInput"><option>Above</option><option>Below</option></select> <input class="cusInput" type="number" value="20"/>
            </div>
          </div>
          <div class="setting" style="flex-direction:column;display:flex;">
            <div style="display:flex;justify-content:space-between;width:100%;">
                <h3>Bollinger Bands</h3>
                <div class="toggle-switch">
                <input id="job-switch" class="switch" type="checkbox" checked="checked">
                <label for="job-switch" id="jobLabel">
                    <div class="before"></div>
                    <div class="after"></div>
                </label>
                <div class="toggle-off">OFF</div>
                <div class="toggle-on">ON</div>
                </div>
            </div>
            <div style="width:100%;">
                <small>if the price breaks above the upper band, it may be considered a bullish signal and a potential entry point to buy the asset. If the price breaks below the lower band, it may be considered a bearish signal and a potential exit point to sell the asset.</small>
            </div>
          </div>
          <div class="setting" style="flex-direction:column;display:flex;">
            <div style="display:flex;justify-content:space-between;width:100%;">
                <h3>Moving Averages (MA)</h3>
                <div class="toggle-switch">
                <input id="job-switch" class="switch" type="checkbox" checked="checked">
                <label for="job-switch" id="jobLabel">
                    <div class="before"></div>
                    <div class="after"></div>
                </label>
                <div class="toggle-off">OFF</div>
                <div class="toggle-on">ON</div>
                </div>
            </div>
            <div style="width:100%;">
                If the price crosses <select style="margin:9px;" class="cusInput"><option>Above</option><option>Below</option></select> the MA, it could be a <select class="cusInput"><option>Bullish</option><option>Bearish</option></select> signal<br>
                If the price crosses <select style="margin:9px;" class="cusInput"><option>Above</option><option>Below</option></select> the MA, it could be a <select class="cusInput"><option>Bullish</option><option>Bearish</option></select> signal
            </div>
          </div>
        </article>
        <article id="settings-extra" class="settings-content">
          <h1>Signals</h1>
          <div class="setting">
            <h3 id="signal_val"></h3>
          </div>
        </article>
      </section>`
            /*settingsContainer.innerHTML = `<div id="settings-container">
                <button onclick="closeSettings()">Close</button>
                <h2>Settings</h2>
                <p>Here are some settings you can adjust:</p>
                <ul>
                    <li>Option 1</li>
                    <li>Option 2</li>
                    <li>Option 3</li>
                </ul>
                </div>`;*/
            document.body.appendChild(settingsContainer);
            [...document.querySelectorAll('#close-settings')].at(-1).addEventListener('click',()=>{
                document.querySelector('#settings-panel').style.overflow = 'hidden'
                document.querySelector('#settings-panel').style.height = '0'
                //document.querySelector('#settings-panel').addEventListener('transitionend',()=>{
                document.querySelector('#settings-panel').style.width = '0'
                document.querySelector('#settings-panel').style.opacity = '0'
            })
            /*$(function() {
                // Change settings tabs
                $('#settings-tabs li').click(function(){
                var tab_id = $(this).attr('data-tab');

                $('#settings-tabs li').removeClass('active');
                $('.settings-content').removeClass('active');

                $(this).addClass('active');
                $("#"+tab_id).addClass('active');
                })
            });*/

            $(document).on('click', '#settings-tabs li', function() {
                var tab_id = $(this).attr('data-tab');

                $('#settings-tabs li').removeClass('active');
                $('.settings-content').removeClass('active');

                $(this).addClass('active');
                $("#" + tab_id).addClass('active');
            });

            
            
            /*document.querySelector('#close-settings').addEventListener('click',()=>{
                document.querySelector('#settingsIcon').style.borderBottomRightRadius = ''
                document.querySelector('#settings-panel').style.overflow = 'hidden'
                document.querySelector('#settings-panel').style.height = '0'
                //document.querySelector('#settings-panel').addEventListener('transitionend',()=>{
                document.querySelector('#settings-panel').style.width = '0'
                document.querySelector('#settings-panel').style.opacity = '0'
                document.querySelector('#settingsIcon').style.borderTopRightRadius = ''
                //})
            })

            document.querySelector('#settingsIcon').addEventListener('click',function(){
            if(this.style.borderTopRightRadius == ''){
                this.style.borderBottomRightRadius = '0'
                this.style.borderTopRightRadius = '0'
                document.querySelector('#settings-panel').style.overflow = ''
                document.querySelector('#settings-panel').style.height = ''
                //document.querySelector('#settings-panel').addEventListener('transitionend',()=>{
                document.querySelector('#settings-panel').style.width = ''
                document.querySelector('#settings-panel').style.opacity = ''
                this.style.borderTopRightRadius = '0'
                //})
            }
            else{
                document.querySelector('#settingsIcon').style.borderBottomRightRadius = ''
                document.querySelector('#settings-panel').style.overflow = 'hidden'
                document.querySelector('#settings-panel').style.height = '0'
                //document.querySelector('#settings-panel').addEventListener('transitionend',()=>{
                document.querySelector('#settings-panel').style.width = '0'
                document.querySelector('#settings-panel').style.opacity = '0'
                document.querySelector('#settingsIcon').style.borderTopRightRadius = ''
                //})
            }
            })
            if(!localStorage.getItem("interval")){
                localStorage.setItem("interval","15m")
            }
            [...document.querySelectorAll(".interval")].filter(e=>e.getAttribute('data-interval') == localStorage.getItem("interval"))[0].classList.add('active')
            document.querySelectorAll(".interval").forEach(e=>{
                e.addEventListener('click',()=>{
                    localStorage.setItem("interval",e.getAttribute('data-interval'));
                    get_indicatorsData();
                    [...document.querySelectorAll(".interval")].filter(e=>e.classList.contains("active")).forEach(e=>{
                        e.classList.remove('active')
                    })
                    e.classList.add('active')
                    
                })
            })
            
            }
            else{
                document.querySelector('#settings-panel').style.overflow = ''
                document.querySelector('#settings-panel').style.height = ''
                //document.querySelector('#settings-panel').addEventListener('transitionend',()=>{
                document.querySelector('#settings-panel').style.width = ''
                document.querySelector('#settings-panel').style.opacity = '1'
            }
            
            
        
        }*/

        
        
        //document.querySelector('#settings-panel').style='overflow: hidden;height: 0;right:0;opacity: 0;'
        function get_indicatorsData(){
            if(document.querySelector("#rsi_val")&&[...document.querySelectorAll('tr')].filter(e=>e.getAttribute('data-symbol') == localStorage.getItem("indicator"))){
                row = [...document.querySelectorAll('tr')].filter(e=>e.getAttribute('data-symbol') == localStorage.getItem("indicator"))[0]
                document.querySelector("#rsi_val").innerHTML = row.querySelector('button').getAttribute('rsi')
                document.querySelector("#macd_val").innerHTML = row.querySelector('button').getAttribute('macd')
                document.querySelector("#bb_val").innerHTML = row.querySelector('button').getAttribute('bb_upper')
                document.querySelector("#ma_val").innerHTML = row.querySelector('button').getAttribute('ma')
                document.querySelector("#stoch_val").innerHTML = row.querySelector('button').getAttribute('stoch')
                document.querySelector("#price_val").innerHTML = parseFloat(row.querySelectorAll("td")[2].innerHTML)
                signal = null;
                //sell signal path
                /*if(localStorage.getItem("rsi")=="true"&&localStorage.getItem("bb")=="true"&&localStorage.getItem("macd")=="true"&&localStorage.getItem("ma")=="true"&&localStorage.getItem("stoch")=="true"){
                    if(parseFloat(rsi_val) <= parseFloat(localStorage.getItem("rsi_val")) && parseFloat(localStorage.getItem("macd_hist")) <= 0 && price_val <= parseFloat(localStorage.getItem("bb_lower")) && price_val<=parseFloat(localStorage.getItem("ma_val"))){
                        signal = 'Sell'
                    }
                    else if(rsi_val >= localStorage.getItem("rsi_high")){
                        signal = 'Buy'
                    }
                }
                else if(localStorage.getItem("rsi")=="false"&&localStorage.getItem("bb")=="true"&&localStorage.getItem("macd")=="true"&&localStorage.getItem("ma")=="true"&&localStorage.getItem("stoch")=="true"){
                    if(parseFloat(localStorage.getItem("macd_hist")) <= 0 && price_val <= parseFloat(localStorage.getItem("bb_lower")) && price_val<=parseFloat(localStorage.getItem("ma_val"))){
                        signal = 'Sell'
                    }
                    else if(rsi_val >= localStorage.getItem("rsi_high")){
                        signal = 'Buy'
                    }
                }
                else if(localStorage.getItem("rsi")=="true"&&localStorage.getItem("bb")=="false"&&localStorage.getItem("macd")=="true"&&localStorage.getItem("ma")=="true"&&localStorage.getItem("stoch")=="true"){
                    if(parseFloat(rsi_val) <= parseFloat(localStorage.getItem("rsi_val")) && parseFloat(localStorage.getItem("macd_hist")) <= 0 && price_val<=parseFloat(localStorage.getItem("ma_val"))){
                        signal = 'Sell'
                    }
                    else if(rsi_val >= localStorage.getItem("rsi_high")){
                        signal = 'Buy'
                    }
                }
                else if(localStorage.getItem("rsi")=="true"&&localStorage.getItem("bb")=="true"&&localStorage.getItem("macd")=="false"&&localStorage.getItem("ma")=="true"&&localStorage.getItem("stoch")=="true"){
                    if(parseFloat(rsi_val) <= parseFloat(localStorage.getItem("rsi_val")) && price_val <= parseFloat(localStorage.getItem("bb_lower")) && price_val<=parseFloat(localStorage.getItem("ma_val"))){
                        signal = 'Sell'
                    }
                    else if(rsi_val >= localStorage.getItem("rsi_high")){
                        signal = 'Buy'
                    }
                }*/

                signal_val.innerHTML = signal
            }
            

        }

        function closeSettings() {
            var settingsContainer = document.getElementById("settings-container");
            document.body.removeChild(settingsContainer);
        }

        

        


        
        


    </script>
</body>
</html>